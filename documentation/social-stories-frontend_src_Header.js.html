<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: social-stories-frontend/src/Header.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: social-stories-frontend/src/Header.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Header module.
 * @module Header
 * @requires none
 */

import React from 'react';
import {Navbar, Nav, Modal, Button, Form,DropdownButton,Dropdown} from "react-bootstrap";
import TextSearch from './textSearch';

const Dropdownoptions = ["Option 1", "Option 2", "Option 3", "Option 4", "Option 5"];
//TODO: Make sure that content is required
export default class Header extends React.Component {

  state = {
    show: false,
    Post: {
      coursename : Dropdownoptions[0],
      content: ""
    }
  };
  /**
  * Updates the value of show state to true when the user click on the add post on navbar
  * @name showModal
  * @memberof module:textSearch
  * @function
  * @param event {Object} The event object created when the user click on the add post on navbar
  * @returns none
  */
  showModal = e => {this.setState({show: true});};
  /**
  * Updates the value of show state to false when the user click on the add post on navbar
  * @name closeModal
  * @memberof module:textSearch
  * @function
  * @param event {Object} The event object created when the user click on the add post on navbar
  * @returns none
  */
  closeModal = e => {this.setState({show: false});};
  /**
  * Updates the value of Post coursename to the selected value when the user click on the drop down on the modal
  * @name handleDropDownChange
  * @memberof module:textSearch
  * @function
  * @param event {Object} The event object created when the user click on the drop down on the modal
  * @returns none
  */
  handleDropDownChange = (evtKey,e) => { this.setState({Post:{coursename: Dropdownoptions[evtKey], content: this.state.Post.content}})};
  /**
  * Updates the value of Post content to the input value when user input to the textarea
  * @name handleContentChange
  * @memberof module:textSearch
  * @function
  * @param event {Object} The event object created when user input to the textarea
  * @returns none
  */
  handleContentChange = e => { this.setState({Post:{content: e.target.value, coursename: this.state.Post.coursename}})};
  /**
  * Close the modal and post the data 
  * @name handleSubmit
  * @memberof module:textSearch
  * @function
  * @param event {Object} The event object hit on the submit button at the modal
  * @returns none
  */
  handleSubmit = e => {
    this.closeModal();
    this.postData();
    console.log("Form data", this.state.Post.coursename, this.state.Post.content);
  }
  /**
  * Posts the data to the " /api/course/{{course_id}}/post" 
  * @name postData
  * @memberof module:textSearch
  * @function
  * @returns none
  */
  async postData(){
    //create a new XMLHttpRequest
    const postURL = " /api/course/{{course_id}}/post";
    const data = this.state.Post;

    try {
      const response = await fetch(postURL, {
        method: 'POST', // or 'PUT'
        body: JSON.stringify(data), // data can be `string` or {object}!
        headers: {
          'Content-Type': 'application/json'
        }
      });
      const json = await response.json();
      console.log('Success:', JSON.stringify(json));
    } catch (error) {
      console.error('Error:', error);
    }
  }

   /**
    * Provides UI for navbar and modal
    * @name render
    * @memberof module:Header
    * @function
    * @returns The UI to be displayed.
    */
  render() {
    return (
      &lt;Navbar collapseOnSelect bg="dark" variant="dark" expand="md" sticky="top">
        &lt;Navbar.Toggle aria-controls="responsive-navbar-nav" />
        &lt;Navbar.Collapse>
          &lt;Navbar.Brand>Social Stores&lt;/Navbar.Brand>
          &lt;Nav className="mr-auto">
            &lt;Nav.Link href="#home">Home&lt;/Nav.Link>
            &lt;Nav.Link onClick={this.showModal}>Create Post&lt;/Nav.Link>
            &lt;Modal show={this.state.show} onHide={this.closeModal}>
                &lt;Modal.Header closeButton>
                  &lt;Modal.Title>Add Post&lt;/Modal.Title>
                &lt;/Modal.Header>
                &lt;Modal.Body>
                    &lt;Form  onSubmit={this.handleSubmit}>
                      &lt;Form.Group>
                        &lt;Form.Label>Course: &lt;/Form.Label>
                        &lt;DropdownButton onSelect={this.handleDropDownChange.bind(this) } id="dropdown-basic-button" title={this.state.Post.coursename}>
                          {Dropdownoptions.map((option, i) => {
                             return (&lt;Dropdown.Item key={i} eventKey={i}>{option}&lt;/Dropdown.Item>);
                          })}
                        &lt;/DropdownButton>
                      &lt;/Form.Group>
                      &lt;Form.Group controlId="exampleForm.ControlTextarea1">
                        &lt;Form.Label>Post: &lt;/Form.Label>
                        &lt;Form.Control onChange={this.handleContentChange} required as="textarea" rows="3" name="content" />
                      &lt;/Form.Group>
                    &lt;/Form>
                &lt;/Modal.Body>
                &lt;Modal.Footer>
                &lt;Button type="submit" variant="primary" onClick={this.handleSubmit}>
                    Submit Post
                &lt;/Button>
                &lt;/Modal.Footer>
            &lt;/Modal>
            &lt;Nav.Link href="#view">View Posts&lt;/Nav.Link>
            &lt;/Nav>
            &lt;TextSearch setSearch={this.props.setSearch} />
        &lt;/Navbar.Collapse>
      &lt;/Navbar>
    );
  }

}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-elastic-client.html">elastic-client</a></li><li><a href="module-FilterComponent_Dropdown.html">FilterComponent/Dropdown</a></li><li><a href="module-Header.html">Header</a></li><li><a href="module-routes_courses.html">routes/courses</a></li><li><a href="module-server.html">server</a></li><li><a href="module-textSearch.html">textSearch</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Nov 04 2019 11:19:16 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
